(()=>{function e(e,n){this.name=e,this.marker=n}reload=()=>{document.getElementById("name1").value="",document.getElementById("name2").value="",window.location.reload()},validateForm=()=>{const e=document.getElementById("name1"),n=document.getElementById("name2");""!==e.value&&""!==n.value||(document.getElementById("validate").innerHTML="<h1>Player names can not be blank</h1>",startGame.preventDefault())};const n=()=>{document.getElementById("game_table").style.visibility="hidden"};startGame=()=>{validateForm(),document.getElementById("name1").style.visibility="hidden",document.getElementById("name2").style.visibility="hidden",document.getElementById("start").style.visibility="hidden",document.getElementById("replay").style.visibility="visible",document.getElementById("validate").innerHTML="";const t=new e(document.getElementById("name1"),"X"),i=new e(document.getElementById("name2"),"O"),m=document.querySelectorAll(".cell");document.getElementById("game_table").style.visibility="visible",document.getElementById("win").innerHTML="";let l=0;checkWinner=(e,t,i)=>{const m=t.marker,d=i.marker;notEmpty=(n,t,i)=>t===e[n].innerText||i===e[n].innerText,checkWin=(n,t,i,m,l)=>!(!notEmpty(n,m,l)||e[n].innerText!==e[t].innerText||e[n].innerText!==e[i].innerText),(checkWin(0,1,2,m,d)||checkWin(3,4,5,m,d)||checkWin(6,7,8,m,d)||checkWin(0,3,6,m,d)||checkWin(1,4,7,m,d)||checkWin(2,5,8,m,d)||checkWin(0,4,8,m,d)||checkWin(2,4,6,m,d))&&(document.getElementById("win").innerHTML=l%2==0?`<h1>${i.name.value} wins</h1>`:`<h1>${t.name.value} wins</h1>`,n(),document.getElementById("win").style.margin="-30rem 0 0 0")},turn=(e,n,t)=>{e.innerText===n.marker||e.innerText===t.marker?(document.getElementById("win").innerHTML="<h1>Thats not a valid move</h1>",l-=1):(document.getElementById("win").innerHTML=`<h1>It's ${t.name.value} turn</h1>`,e.innerText=n.marker)},marker=e=>{l%2==0?turn(m[e.target.id],i,t):turn(m[e.target.id],t,i),checkWinner(m,t,i),l+=1,l>8&&(document.getElementById("win").innerHTML="<h1>It's a tie!!!</h1>",n(),document.getElementById("win").style.margin="-30rem 0 0 0")};for(let e=0;e<m.length;e+=1)m[e].innerText="",m[e].addEventListener("click",marker);document.getElementById("win").innerHTML=`<h1>It's ${i.name.value} turn</h1>`}})();